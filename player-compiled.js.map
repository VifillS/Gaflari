{"version":3,"sources":["player.js"],"names":[],"mappings":"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","file":"player-compiled.js","sourcesContent":["const videos = `{\n  \"videos\": [\n    {\n      \"id\": 1,\n      \"title\": \"Lego!\",\n      \"created\": 1509804047011,\n      \"duration\": 5,\n      \"poster\": \"./videos/small.png\",\n      \"video\": \"./videos/small.mp4\"\n    },\n    {\n      \"id\": 2,\n      \"title\": \"Big Bunny\",\n      \"created\": 1507804047011,\n      \"duration\": 62,\n      \"poster\": \"./videos/bunny.png\",\n      \"video\": \"./videos/bunny.mp4\"\n    },\n    {\n      \"id\": 3,\n      \"title\": \"Prufu myndband\",\n      \"created\": 1505904047011,\n      \"duration\": 3600,\n      \"poster\": \"./videos/16-9.png\",\n      \"video\": \"./videos/bunny.mp4\"\n    },\n    {\n      \"id\": 4,\n      \"title\": \"Prufu myndband með löngum texta sem fer í tvær línur\",\n      \"created\": 1504904047011,\n      \"duration\": 220,\n      \"poster\": \"./videos/16-9.png\",\n      \"video\": \"./videos/bunny.mp4\"\n    },\n    {\n      \"id\": 5,\n      \"title\": \"Gaflari í sundi\",\n      \"created\": 1504904047011,\n      \"duration\": 212,\n      \"poster\": \"./videos/gaflari.png\",\n      \"video\": \"./videos/rickrolled.mp4\"\n    }\n  ],\n  \"categories\": [\n    {\n      \"title\": \"Nýleg myndbönd\",\n      \"videos\": [1, 2, 5]\n    },\n    {\n      \"title\": \"Kennslumyndbönd\",\n      \"videos\": [1, 3, 4]\n    },\n    {\n      \"title\": \"Skemmtimyndbönd\",\n      \"videos\": [2, 3, 4]\n    }\n  ]\n}`;\n\nclass Player {\n\n  constructor() {\n    this.id = this.getQueryVariable('id');\n    this.container = document.querySelector('.video');\n    this.videos = JSON.parse(videos).videos;\n    this.video;\n  }\n\n  // tekið af 'https://css-tricks.com/snippets/javascript/get-url-variables/'\n  // gerir það sem það segir að það geri\n  getQueryVariable(variable) {\n    const query = window.location.search.substring(1);\n    const vars = query.split('&');\n    for (let i = 0; i < vars.length; i += 1) {\n      const pair = vars[i].split('=');\n      if (pair[0] === variable) { return pair[1]; }\n    }\n    return (false);\n  }\n\n  /**\n   * Sækir gögn úr video.json og býr til alla viðeigandi containera\n   * og thumbnails\n   */\n  load() {\n    const video = this.videos[this.id - 1];\n\n    const headEl = document.createElement('h1');\n    headEl.appendChild(document.createTextNode(video.title));\n    headEl.setAttribute('class','title');\n    document.querySelector('main').prepend(headEl);\n\n    const vidEl = document.createElement('video');\n    vidEl.setAttribute('src', video.video);\n    vidEl.setAttribute('poster', video.poster);\n    //vidEl.setAttribute('controls', 'True');\n    this.video = vidEl;\n    this.container.appendChild(vidEl);\n\n    // setja eventlistenera\n    document.getElementById('playPause').addEventListener(\"click\", this.playPause.bind(this));\n    document.getElementById('muteUnmute').addEventListener(\"click\", this.muteUnmute.bind(this));\n    document.getElementById('fullscreen').addEventListener(\"click\", this.fullscreen.bind(this));\n    document.getElementById('forward').addEventListener(\"click\", this.forward.bind(this));\n    document.getElementById('back').addEventListener(\"click\", this.back.bind(this));\n  }\n\n  // TODO setja video sem class attibute\n\n  playPause() {\n    if (this.video.paused) {\n      this.video.play();\n      document.getElementById('playPause').setAttribute('src','./img/pause.svg');\n    } else {\n      this.video.pause();\n      document.getElementById('playPause').setAttribute('src','./img/play.svg');\n    }\n  }\n\n  muteUnmute() {\n    const video = document.querySelector('video');\n    if (this.video.muted) {\n      this.video.muted = false;\n      document.getElementById('muteUnmute').setAttribute('src','./img/mute.svg');\n    } else {\n      this.video.muted = true;\n      document.getElementById('muteUnmute').setAttribute('src','./img/unmute.svg');\n    }\n  }\n\n  // tekid af netinu - endurskoda en samt ekki\n  // http://blog.teamtreehouse.com/building-custom-controls-for-html5-videos\n  fullscreen() {\n    if (this.video.requestFullscreen) {\n      this.video.requestFullscreen();\n    } else if (this.video.mozRequestFullScreen) {\n      this.video.mozRequestFullScreen(); // Firefox\n    } else if (this.video.webkitRequestFullscreen) {\n      this.video.webkitRequestFullscreen(); // Chrome and Safari\n    }\n  }\n\n  forward() {\n    this.video.currentTime += 3;\n  }\n\n  back() {\n    this.video.currentTime -= 3;\n  }\n\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const player = new Player();\n  player.load();\n});\n"]}